{messages class="errors"}<div class="row admin-header-container">    <div class="col-sm">        <h3 class="admin-header-big-text">{__("New gallery")}</h3>        <h3 class="admin-header-small-text">{__("Gallery management")}</h3>    </div>    <div class="col-sm" style="padding: 0;">        <div style="float: right;">            <a href="#" id="Save" class="btn btn-success admin-header-button">            <i class="fas fa-save" style=" margin-right: 5px;"></i>{__('Save')}</a>            <a href="#" id="Cancel" class="btn btn-danger admin-header-button" style="margin-left: 10px;">            <i class="fa fa-times" style=" margin-right: 5px;"></i>{__('Cancel')}</a>         </div>    </div></div><div class="breadcrumb-title">    <p>        <i class="fa fa-home" style="color: #37bc9b;"></i>        <i class="fa fa-angle-right" style="margin: 0 5px 0 5px; font-size: 1em;"></i>{__('CMS pages')}        <i class="fa fa-angle-right" style="margin: 0 5px 0 5px; font-size: 1em;"></i>{__('New page')}    </p></div><style type="text/css">/* Vertical Tabs */.ui-tabs-vertical { width: 55em; }.ui-tabs-vertical .ui-tabs-nav { padding: .2em .1em .2em .2em; float: left; width: 12em; }.ui-tabs-vertical .ui-tabs-nav li { clear: left; width: 100%; border-bottom-width: 1px !important; border-right-width: 0 !important; margin: 0 -1px .2em 0; }.ui-tabs-vertical .ui-tabs-nav li a { display:block; }.ui-tabs-vertical .ui-tabs-nav li.ui-tabs-selected { padding-bottom: 0; padding-right: .1em; border-right-width: 1px; border-right-width: 1px; }.ui-tabs-vertical .ui-tabs-panel { padding: 1em; float: right; width: 40em;}</style> <div style="background-color: white; padding: 10px;">       {component name="/site_languages/selectListLanguagesFrontend" selected=$gallery_i18n->get('lang')}             {*<div id="tabs" class=" form-group" style="width: 100%;">*}         {*<ul>                          <li>                 <a href="#tab_control" title="{__('control')}" name="tab_control" class="items_view">                      <img height="32" width="32" src="{url('icons/control.png','picture')}" alt="{__('Control')}"/>                                        <span>{__('Control')}</span>                 </a>                           </li>             <li>                 <a href="#tab_apparence" title="{__('apparence')}" name="tab_apparence" class="items_view">                      <img height="32" width="32" src="{url('icons/info.png','picture')}" alt="{__('Apparence')}"/>                                        <span>{__('Apparence')}</span>                 </a>                           </li>              <li>                 <a href="#tab_dimension" title="{__('Dimensions')}" name="tab_dimension" class="items_view">                      <img height="32" width="32" src="{url('icons/dimensions.png','picture')}" alt="{__('Dimensions')}"/>                                        <span>{__('Dimensions')}</span>                 </a>                           </li>              <li>                 <a href="#tab_design" title="{__('Design')}" name="tab_design" class="items_view">                      <img height="32" width="32" src="{url('icons/design.png','picture')}" alt="{__('Design')}"/>                                       <span>{__('Design')}</span>                 </a>                            </li>             <li>                 <a href="#tab_animation" title="{__('Animation')}" name="tab_animation" class="items_view">                      <img height="32" width="32" src="{url('icons/animation.png','picture')}" alt="{__('Animation')}"/>                                        <span>{__('Animation')}</span>                 </a>                 <span style="display:none;" id="item_tab_animation">{__("help animation")|default:'&nbsp;'}</span>             </li>             <li>                 <a href="#tab_navigation" title="{__('Navigation')}" name="tab_navigation" class="items_view">                      <img height="32" width="32" src="{url('icons/navigation.png','picture')}" alt="{__('Navigation')}"/>                                        <span>{__('Navigation')}</span>                 </a>                            </li>         </ul> *}                          <ul class="nav nav-tabs" id="" role="tablist">            <li class="nav-item">                <a class="nav-link active" id="t-control-tab" data-toggle="tab" href="#t-control" role="tab" aria-controls="t-control" aria-selected="true">{__('Control')}</a>            </li>            <li class="nav-item">                <a class="nav-link" id="t-apparence-tab" data-toggle="tab" href="#t-apparence" role="tab" aria-controls="t-apparence" aria-selected="false">{__('Apparence')}</a>            </li>            <li class="nav-item">                <a class="nav-link" id="t-dimension-tab" data-toggle="tab" href="#t-dimension" role="tab" aria-controls="t-dimension" aria-selected="false">{__('Dimensions')}</a>            </li>            <li class="nav-item">                <a class="nav-link" id="t-design-tab" data-toggle="tab" href="#t-design" role="tab" aria-controls="t-design" aria-selected="false">{__('Design')}</a>            </li>            <li class="nav-item">                <a class="nav-link" id="t-animation-tab" data-toggle="tab" href="#t-animation" role="tab" aria-controls="t-animation" aria-selected="false">{__('Animation')}</a>            </li>            <li class="nav-item">                <a class="nav-link" id="t-navigation-tab" data-toggle="tab" href="#t-navigation" role="tab" aria-controls="t-navigation" aria-selected="false">{__('Design')}</a>            </li>        </ul>                 <div class="tab-content">        {* ============================== C O N T R O L =================================================  *}          <div class="tab-pane fade show active" id="t-control" role="tabpanel" aria-labelledby="t-control-tab">            <table cellpadding="0" cellspacing="0">               {if $form->gallery->hasValidator('name')}               <tr>                    <td style="width: 140px; height: 60px;">{__('Name')} <span>{if $form->gallery.name->getOption('required')}*{/if}</span></td>                    <td>                        <div class="errors-form">{$form.gallery.name->getError()}</div>                        <input type="text" class="Fields SiteGallery Input form-control" name="name" value="{$gallery_i18n->getGallery()->get('name')}"/>                    </td>                          </tr>                 {/if}                        <tr>                    <td>{__('title')} <span>{if $form->gallery_i18n.title->getOption('required')}*{/if}</span></td>                    <td>                        <div class="errors-form">{$form.gallery_i18n.title->getError()}</div>                        <input type="text" class="Fields SiteGalleryI18n Input form-control" name="title" value="{$gallery_i18n->get('title')}"/>                    </td>                </tr>                 <tr>                    <td style="width: 140px; height: 60px;">{__('Random start')} <span>{if $form->gallery.randomStart->getOption('required')}*{/if}</span></td>                    <td>                        <div class="errors-form">{$form.gallery.randomStart->getError()}</div>                        <input type="checkbox" id="randomStart" class="Fields SiteGallery Input form-control" name="randomStart" value="{$gallery_i18n->getGallery()->get('randomStart')}" {if $gallery_i18n->getGallery()->get('randomStart')=='YES'}checked="checked"{/if}/>                                                    </td>                </tr>                   <tr>                    <td style="width: 140px; height: 60px;"><span>{__("Start at")}:</span> {if $form->gallery.start_at->getOption('required')}*{/if}</td>                    <td>                        <div id="error_start_at" class="errors-form">{$form.gallery.start_at->getError()}</div>                                                  <input type="text" id="start_at" size="10" class="Fields SiteGallery Input form-control" name="start_at" value="{if $form->hasErrors()}{$gallery_i18n->getGallery()->get('start_at')}{else}{format_date($gallery_i18n->getGallery()->get('start_at'),'a')}{/if}"/>                        </td>                </tr>                <tr>                    <td style="width: 140px; height: 60px;"><span>{__("Expired at")}:</span> {if $form->gallery.expired_at->getOption('required')}*{/if} </td>                    <td>                        <div id="error_expired_at" class="errors-form">{$form.gallery.expired_at->getError()}</div>                        <input type="text" id="expired_at" size="10" class="Fields SiteGallery Input form-control" name="expired_at" value="{if $form->hasErrors()}{$gallery_i18n->getGallery()->get('expired_at')}{else}{format_date($gallery_i18n->getGallery()->get('expired_at'),'a')}{/if}"/>                        </td>                </tr>            </table>        </div>        {* ============================== A P P A R E N C E =================================================  *}        <div id="t-apparence" class="tab-pane fade" role="tabpanel" aria-labelledby="t-apparence-tab">            <table cellpadding="0" callspacing="0">                <tr>                    <td style="width: 140px; height: 60px;">{__('Pause on hover')} <span>{if $form->gallery.pauseOnHover->getOption('required')}*{/if}</span></td>                    <td>                        <div class="errors-form">{$form.gallery.pauseOnHover->getError()}</div>                        <input type="checkbox" id="pauseOnHover" class="Fields SiteGallery Input form-control" name="pauseOnHover" value="{$gallery_i18n->getGallery()->get('pauseOnHover')}" {if $gallery_i18n->getGallery()->get('pauseOnHover')=='YES'}checked="checked"{/if}/>                                </td>                </tr>                 <tr>                    <td style="width: 140px; height: 60px;">{__('Manual advance')} <span>{if $form->gallery.manualAdvance->getOption('required')}*{/if}</span></td>                    <td>                        <div class="errors-form">{$form.gallery.manualAdvance->getError()}</div>                        <input type="checkbox" id="manualAdvance" class="Fields SiteGallery Input form-control" name="manualAdvance" value="{$gallery_i18n->getGallery()->get('manualAdvance')}" {if $gallery_i18n->getGallery()->get('manualAdvance')=='YES'}checked="checked"{/if}/>                                </td>                </tr>                 <tr>                    <td style="width: 140px; height: 60px;">{__('Fullscreen')} <span>{if $form->gallery.is_fullscreen->getOption('required')}*{/if}</span></td>                    <td>                        <div class="errors-form">{$form.gallery.is_fullscreen->getError()}</div>                        <input type="checkbox" id="is_fullscreen" class="Fields SiteGallery Input form-control" name="is_fullscreen" value="{$gallery_i18n->getGallery()->get('is_fullscreen')}" {if $gallery_i18n->getGallery()->get('is_fullscreen')=='YES'}checked="checked"{/if}/>                                </td>                </tr>            </table>        </div>        {* ============================== D I M E N S I O N =================================================  *}        <div id="t-dimension" class="tab-pane fade" role="tabpanel" aria-labelledby="t-dimension-tab">            <table cellpadding="0" cellspacing="0">                 <tr>                    <td style="width: 140px; height: 60px;">{__('Height')} <span>{if $form->gallery.height->getOption('required')}*{/if}</span></td>                    <td>                        <div class="errors-form">{$form.gallery.height->getError()}</div>                            <input style="display: inline-block;" type="text" class="Fields SiteGallery Input form-control" name="height" value="{$gallery_i18n->getGallery()->get('height')}"/>                            <span style="display: inline-block;">px</span>                    </td>                </tr>                  <tr>                    <td style="width: 140px; height: 60px;">{__('Width')} <span>{if $form->gallery.width->getOption('required')}*{/if}</span></td>                    <td>                        <div class="errors-form">{$form.gallery.width->getError()}</div>                        <input type="text" class="Fields SiteGallery Input form-control" name="width" value="{$gallery_i18n->getGallery()->get('width')}"/>                        <span>px</span>                    </td>                </tr>                 <tr>                    <td style="width: 140px; height: 60px;">{__('BoxCols')} <span>{if $form->gallery.boxCols->getOption('required')}*{/if}</span></td>                    <td>                        <div class="errors-form">{$form.gallery.boxCols->getError()}</div>                        <input type="text" class="Fields SiteGallery Input form-control" name="boxCols" value="{$gallery_i18n->getGallery()->get('boxCols')}"/>                    </td>                </tr>                  <tr>                    <td style="width: 140px; height: 60px;">{__('BoxRows')}<span>{if $form->gallery.boxRows->getOption('required')}*{/if}</span></td>                    <td>                        <div class="errors-form">{$form.gallery.boxRows->getError()}</div>                        <input type="text" class="Fields SiteGallery Input form-control" name="boxRows" value="{$gallery_i18n->getGallery()->get('boxRows')}"/>                    </td>                </tr>            </table>        </div>        {* ============================== A N I M A T I O N =================================================  *}        <div id="t-animation" class="tab-pane fade" role="tabpanel" aria-labelledby="t-animation-tab">            <table cellpadding="0" cellspacing="0">                        <tr>                   <td style="width: 140px; height: 60px;">{__('Slices')}<span>{if $form->gallery.slices->getOption('required')}*{/if}</span></td>                   <td>                       <div class="errors-form">{$form.gallery.slices->getError()}</div>                       <input type="text" class="Fields SiteGallery Input form-control" name="slices" value="{$gallery_i18n->getGallery()->get('slices')}"/>                   </td>               </tr>                <tr>                   <td style="width: 140px; height: 60px;">{__('Speed')}<span>{if $form->gallery.animSpeed->getOption('required')}*{/if}</span></td>                   <td>                       <div class="errors-form">{$form.gallery.animSpeed->getError()}</div>                       <input type="text" class="Fields SiteGallery Input form-control" name="animSpeed" value="{$gallery_i18n->getGallery()->get('animSpeed')}"/>                       <span>ms</span>                   </td>               </tr>                <tr>                   <td style="width: 140px; height: 60px;">{__('Pause time')}<span>{if $form->gallery.pauseTime->getOption('required')}*{/if}</span></td>                   <td>                       <div class="errors-form">{$form.gallery.pauseTime->getError()}</div>                       <input type="text" class="Fields SiteGallery Input form-control" name="pauseTime" value="{$gallery_i18n->getGallery()->get('pauseTime')}"/>                       <span>ms</span>                   </td>               </tr>               <tr>                   <td style="width: 140px; height: 60px;">{__('Random start')}<span>{if $form->gallery.randomStart->getOption('required')}*{/if}</span></td>                   <td>                       <div class="errors-form">{$form.gallery.randomStart->getError()}</div>                       <input type="text" class="Fields SiteGallery Input form-control" name="randomStart" value="{$gallery_i18n->getGallery()->get('randomStart')}"/>                                      </td>               </tr>                <tr>                   <td style="width: 140px; height: 60px;">{__('Start slide')}<span>{if $form->gallery.startSlide->getOption('required')}*{/if}</span></td>                   <td>                       <div class="errors-form">{$form.gallery.startSlide->getError()}</div>                       <input type="text" class="Fields SiteGallery Input form-control" name="startSlide" value="{$gallery_i18n->getGallery()->get('startSlide')}"/>                                      </td>               </tr>            </table>        </div>               {*============================================= DESIGN =================================================*}        <div id="t-design" class="tab-pane fade" role="tabpanel" aria-labelledby="t-design-tab">            <table cellpadding="0" cellspacing="0">               <tr>                   <td>{__('Effect')}</td>                   <td>                       <div class="errors-form">{$form.gallery.effect->getError()}</div>                       <input type="text" class="Fields SiteGallery Input form-control" name="effect" value="{$gallery_i18n->getGallery()->get('effect')}"/>                       <span>{if $form->gallery.effect->getOption('required')}*{/if}</span>                   </td>               </tr>                 <tr>                    <td>{__('Component')}</td>                    <td>                        <div class="errors-form">{$form.gallery.component->getError()}</div>                        <input type="text" class="Fields SiteGallery Input form-control" size="48" name="component" value="{$gallery_i18n->getGallery()->get('component')}"/>                        <span>{if $form->gallery.component->getOption('required')}*{/if}</span>                    </td>                </tr>                <tr>                    <td>{__('Template')}</td>                    <td>                        <div class="errors-form">{$form.gallery.template->getError()}</div>                        <input type="text" class="Fields SiteGallery Input form-control" size="32" name="template" value="{$gallery_i18n->getGallery()->get('template')}"/>                        <span>{if $form->gallery.template->getOption('required')}*{/if}</span>                    </td>                </tr>            </table>        </div>        {* ============================== N A V I G A T I O N =================================================  *}        <div id="t-navigation" class="tab-pane fade" role="tabpanel" aria-labelledby="t-navigation-tab">            <table cellpadding="0" cellspacing="0">               <tr>                  <td style="width: 140px; height: 60px;">{__('Direction')}<span>{if $form->gallery.directionNav->getOption('required')}*{/if}</span></td>                   <td>                       <div class="errors-form">{$form.gallery.directionNav->getError()}</div>                        <input type="checkbox" id="directionNav" class="Fields SiteGallery Checkbox form-control" name="directionNav" value="{$gallery_i18n->getGallery()->get('directionNav')}" {if $gallery_i18n->getGallery()->get('directionNav')=='YES'}checked="checked"{/if}/>                               </td>               </tr>                 <tr>                    <td style="width: 140px; height: 60px;">{__('Control')}<span>{if $form->gallery.controlNav->getOption('required')}*{/if}</span></td>                    <td>                        <div class="errors-form">{$form.gallery.controlNav->getError()}</div>                        <input type="checkbox" id="controlNav" class="Fields SiteGallery Checkbox form-control" name="controlNav" value="{$gallery_i18n->getGallery()->get('controlNav')}" {if $gallery_i18n->getGallery()->get('controlNav')=='YES'}checked="checked"{/if}/>                                </td>                </tr>                 <tr>                    <td style="width: 140px; height: 60px;">{__('Control thumbs')}<span>{if $form->gallery.controlNavThumbs->getOption('required')}*{/if}</span></td>                    <td>                        <div class="errors-form">{$form.gallery.controlNavThumbs->getError()}</div>                        <input type="checkbox" id="controlNavThumbs" class="Fields SiteGallery Checkbox form-control" name="controlNavThumbs" value="{$gallery_i18n->getGallery()->get('controlNavThumbs')}" {if $gallery_i18n->getGallery()->get('controlNavThumbs')=='YES'}checked="checked"{/if}/>                                </td>                </tr>            </table>        </div>                                                                      </div>     </div><script type="text/javascript">               $('#Cancel').click(function() {                           return $.ajax2({ data: { filter: {                                 lang: $("#SelectListLanguages option:selected").attr('id'), token: "{mfForm::getToken('SiteGalleryFormFilter')}" } },                                 url: "{url_to('site_gallery_ajax',['action'=>'ListGallery'])}",target: "#actions"});         });                $('#Save').click(function(){                                         var  params= {                                            SiteGalleryI18n: {                                    gallery_i18n : { lang: $("#SelectListLanguages option:selected").attr('id') },                                   gallery : { },                                   token :'{$form->getCSRFToken()}'                                } };         $(".SiteGalleryI18n.Input").each(function() { params.SiteGalleryI18n.gallery_i18n[$(this).attr('name')]=$(this).val(); });         $(".SiteGalleryI18n.Checkbox:checked").each(function() { params.SiteGalleryI18n.gallery_i18n[$(this).attr('name')]=true; });         $(".SiteGallery.Select option:selected").each(function() { params.SiteGalleryI18n.gallery[$(this).parent().attr('name')]=$(this).val(); });         $(".SiteGallery.Input").each(function() {  params.SiteGalleryI18n.gallery[$(this).attr('name')]=$(this).val();  });  // Get foreign key         //      alert("Params="+params.toSource());   return ;                 return $.ajax2({ data : params,                                                    url: "{url_to('site_gallery_ajax',['action'=>'SaveNewGalleryI18n'])}",                           target: "#actions"});         });                            $(".Fields").click(function() {  $('#Save').show(); });                   {* =========== T A B S ===================================== *}      $("#tabs").tabs().addClass('ui-tabs-vertical ui-helper-clearfix');    $("#tabs li").removeClass('ui-corner-top').addClass('ui-corner-left'); </script>        